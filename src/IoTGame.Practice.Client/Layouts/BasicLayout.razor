@namespace IoTGame.Practice.Layouts
@inherits LayoutComponentBase

<AntDesign.ProLayout.BasicLayout Title="IoTGame.Practice" Logo="@("https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg")" MenuData="_menuData" MenuAccordion @bind-Collapsed="collapsed">

    <HeaderContentRender>
        <GridRow Justify="space-between" Wrap="false">
            <GridCol Class="gutter-row" Span="6">
                <Space Size="@("24")" >
                    <SpaceItem>
                        <Icon Class="action" Type="@(collapsed?"menu-unfold":"menu-fold")" OnClick="Toggle" />
                    </SpaceItem>
                    <SpaceItem>
                        <Icon Class="action" Type="reload" Theme="outline" OnClick="Reload" />
                    </SpaceItem>
                </Space>
            </GridCol>

            <GridCol Class="gutter-row" >
                <Space Class="search-container">
                    <SpaceItem>
                        <Input TValue="string" placeholder="Search..." class="search-input" />
                    </SpaceItem>
                    <SpaceItem>
                        <Button type="primary" icon="search" class="search-button"></Button>
                    </SpaceItem>
                </Space>
            </GridCol>

            <GridCol Class="gutter-row" Span="8">
                <GridRow Justify="end">
                    <Space Size="@("24")">
                        <SpaceItem>
                        <a href="https://github.com/WangWindow/IoTGame.Practice" target="_blank"
                            class="right-align">About</a>
                        </SpaceItem>
                        <SpaceItem >
                            <Avatar Size="small" Icon="user" />
                        </SpaceItem>
                    </Space>
                </GridRow>
            </GridCol>
        </GridRow>
    </HeaderContentRender>

    <RightContentRender>
    </RightContentRender>

    <ChildContent>
        <ReuseTabs></ReuseTabs>
    </ChildContent>

    <FooterRender>
        <FooterView Copyright="2024 by WangWindow" Links="Links"></FooterView>
    </FooterRender>

</AntDesign.ProLayout.BasicLayout>

<SettingDrawer />

<style>
    .search-container {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-grow: 1;
    }

    .search-input {
        border-radius: 20px;
        width: 1600px;
        max-width: 400px;
    }

    .search-button {
        border-radius: 20px;
        margin-left: 8px;
    }

    .right-align {
        float: right;
    }
</style>

@code
{
    bool collapsed;

    public LinkItem[] Links =
    {
        new LinkItem
        {
            Key = "github",
            Title = (RenderFragment)(@<Icon Type="github" />),
            Href = "https://github.com/WangWindow/IoTGame.Practice",
            BlankTarget = true,
        },
        new LinkItem
        {
            Key = "IoTGame.Practice",
            Title = "IoTGame.Practice",
            Href = "https://github.com/WangWindow/IoTGame.Practice",
            BlankTarget = true,
        }
    };

    void Toggle()
    {
        collapsed = !collapsed;
    }

}
